## ğŸ¯ Stage 1: Text â†’ Acoustic Feature

---

## ğŸ“Œ 1. Acoustic Featureë€?

**Acoustic Feature (ìŒí–¥ íŠ¹ì„±)** ëŠ”  
í…ìŠ¤íŠ¸/ìŒì†Œë¥¼ ì‹¤ì œ ìŒì„±ìœ¼ë¡œ ë³€í™˜í•˜ê¸° ìœ„í•´ í•„ìš”í•œ **ì¤‘ê°„ í‘œí˜„ (intermediate representation)**ì…ë‹ˆë‹¤.

- í…ìŠ¤íŠ¸ â†’ (ìŒì†Œ) â†’ **Acoustic Feature** â†’ (vocoder) â†’ Waveform
- **Waveform ì´ì „ ë‹¨ê³„ì˜ ìŒì„± ì •ë³´**ë¥¼ ë‹´ê³  ìˆìŒ
- ëŒ€ë¶€ë¶„ **Mel-spectrogram** í˜•íƒœë¡œ ì‚¬ìš©ë¨

---

## ğŸ”‰ ìì£¼ ì“°ì´ëŠ” Acoustic Features

| Feature ì¢…ë¥˜         | ì„¤ëª…                                              | ì°¨ì› ì˜ˆì‹œ |
|----------------------|---------------------------------------------------|-----------|
| **Mel-Spectrogram**   | ì¸ê°„ ì²­ê° ê¸°ë°˜ í•„í„° ë±…í¬ ì ìš©í•œ ì£¼íŒŒìˆ˜-ì‹œê°„ í‘œí˜„ | (80 x T)  |
| Linear Spectrogram   | STFT ê²°ê³¼ ê·¸ëŒ€ë¡œ ì‚¬ìš© (ê³ í•´ìƒë„)                  | (1025 x T) |
| Pitch (F0)           | ê¸°ë³¸ ì£¼íŒŒìˆ˜ (ì†Œë¦¬ì˜ ë†’ë‚®ì´)                        | (1 x T)   |
| Energy               | ì†Œë¦¬ì˜ ì„¸ê¸° (ì§„í­ ì—ë„ˆì§€)                         | (1 x T)   |
| Duration             | ê° ìŒì†Œì˜ ì§€ì† ì‹œê°„                                | (ìŒì†Œ ìˆ˜,) |

> ëŒ€ë¶€ë¶„ì˜ TTSëŠ” Mel-spectrogramì„ ê¸°ë³¸ acoustic featureë¡œ ì‚¬ìš©í•©ë‹ˆë‹¤.

---

## ğŸ“¦ 2. ì˜ˆì‹œ: í…ìŠ¤íŠ¸ â†’ Mel-spectrogram

### ì˜ˆì‹œ ì…ë ¥

```text
í…ìŠ¤íŠ¸: "ì‚¬ë‘í•´"
ìŒì†Œ ì‹œí€€ìŠ¤: [s, a, r, a, Å‹, h, É›]
```

### ì˜ˆì¸¡ ê²°ê³¼ (Mel-spectrogram)

```python
# PyTorch Tensor í˜•ì‹ (ì˜ˆì‹œ)
mel_pred.shape â†’ torch.Size([80, 120])  # 80 Mel bins Ã— 120 frame steps

# ì¼ë¶€ ê°’ ì˜ˆì‹œ
mel_pred[:, :3] =
tensor([[ -4.2, -3.9, -3.5],
        [ -2.1, -1.7, -1.3],
        ...
        [ -6.7, -6.8, -6.5]])  # ì´ 80ê°œ row
```

- `80`: mel frequency bin ìˆ˜
- `120`: ì‹œê°„ ì¶• í”„ë ˆì„ ìˆ˜ (ì˜ˆ: 12kHz sampling ê¸°ì¤€ ì•½ 2ì´ˆ)

### ì‹œê°í™” (matplotlib ì‚¬ìš©)

```python
import matplotlib.pyplot as plt
import librosa.display

plt.figure(figsize=(10, 4))
librosa.display.specshow(mel_pred.numpy(), sr=22050, hop_length=256, x_axis='time', y_axis='mel')
plt.colorbar(format="%+2.0f dB")
plt.title("Predicted Mel-Spectrogram")
plt.tight_layout()
plt.show()
```

---

## ğŸ“š ëª¨ë¸ë³„ ì²˜ë¦¬ ë°©ì‹

| ëª¨ë¸            | êµ¬ì¡°                           | íŠ¹ì§•                                           |
|-----------------|--------------------------------|------------------------------------------------|
| **Tacotron 1/2** | seq2seq + attention            | autoregressive, attentionìœ¼ë¡œ ì‹œê°„ ì •ë ¬ í•™ìŠµ     |
| **FastSpeech 1/2** | duration + Transformer encoder | parallel, ë¹ ë¥´ê³  ì•ˆì •ì ì¸ mel ì˜ˆì¸¡             |

---

## ğŸ” ì „ì²´ ì²˜ë¦¬ íë¦„

```text
í…ìŠ¤íŠ¸ â†’ ìŒì†Œ ì‹œí€€ìŠ¤ â†’ ì„ë² ë”© ë²¡í„° ì‹œí€€ìŠ¤
   â†“
(Encoder â†’ Attention â†’ Decoder)
   â†“
Mel-spectrogram (80 x T)
   â†“
(Vocoder)
   â†“
Waveform (.wav)
```

---

## ğŸ§  ìš”ì•½

- **Acoustic Feature**ëŠ” í…ìŠ¤íŠ¸ì™€ ì˜¤ë””ì˜¤ ì‚¬ì´ë¥¼ ì—°ê²°í•˜ëŠ” í•µì‹¬ ì¤‘ê°„ í‘œí˜„ì…ë‹ˆë‹¤.
- Mel-spectrogramì€ **ì‚¬ëŒì´ ì¸ì‹í•˜ëŠ” ì£¼íŒŒìˆ˜ ì •ë³´**ë¥¼ íš¨ê³¼ì ìœ¼ë¡œ í‘œí˜„í•˜ë©°,  
  ëŒ€ë¶€ë¶„ì˜ TTS ëª¨ë¸ì˜ **ì˜ˆì¸¡ ëª©í‘œ(output target)** ì…ë‹ˆë‹¤.
- ì¢‹ì€ acoustic feature ì˜ˆì¸¡ì€ **ìì—°ìŠ¤ëŸ½ê³  ëª…ë£Œí•œ ìŒì„±ì„ ìœ„í•œ ê¸°ë°˜**ì…ë‹ˆë‹¤.
